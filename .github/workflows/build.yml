name: Build Ezra Project

on: repository_dispatch

jobs:
    build-ubuntu-1804:
        name: Build Ubuntu 18.04 package
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v1
        - name: Build
          uses: ./.github/actions/build_ubuntu1804
        - name: Upload deb file
          uses: actions/upload-artifact@master
          with:
            name: ezra-project_ubuntu1804_latest.deb
            path: ezra-project_latest.deb

    build-ubuntu-1904:
        name: Build Ubuntu 19.04 package
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v1
        - name: Build
          uses: ./.github/actions/build_ubuntu1904
        - name: Upload deb file
          uses: actions/upload-artifact@master
          with:
            name: ezra-project_ubuntu1904_latest.deb
            path: ezra-project_latest.deb

    build-mint18:
        name: Build Mint 18 package
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v1
        - name: Build
          uses: ./.github/actions/build_mint18
        - name: Upload deb file
          uses: actions/upload-artifact@master
          with:
            name: ezra-project_mint18_latest.deb
            path: ezra-project_latest.deb

    build-buster:
        name: Build Debian 10 Buster package
        runs-on: ubuntu-latest
        steps:
        - uses: actions/checkout@v1
        - name: Build
          uses: ./.github/actions/build_buster
        - name: Upload deb file
          uses: actions/upload-artifact@master
          with:
            name: ezra-project_buster_latest.deb
            path: ezra-project_latest.deb

