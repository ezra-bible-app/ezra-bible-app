# Dockerfile for CentOS Build Enviroment for Ezra Project

FROM centos

RUN yum update -y
RUN yum install -y sudo

RUN curl -sL https://rpm.nodesource.com/setup_10.x | sudo -E bash -
RUN yum install -y centos-release-scl-rh
RUN yum install -y devtoolset-3-gcc devtoolset-3-gcc-c++ make nodejs vim git
RUN update-alternatives --install /usr/bin/gcc-4.9 gcc-4.9 /opt/rh/devtoolset-3/root/usr/bin/gcc 10
RUN update-alternatives --install /usr/bin/g++-4.9 g++-4.9 /opt/rh/devtoolset-3/root/usr/bin/g++ 10

RUN yum -y install epel-release
RUN yum repolist
RUN yum install -y sword-devel libsqlite3x-devel.x86_64

RUN npm install -g electron-installer-redhat
RUN yum install -y rpm-build

RUN echo "source scl_source enable devtoolset-3" >> /etc/profile
