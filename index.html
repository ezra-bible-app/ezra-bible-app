<?xml version="1.0" encoding="UTF8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF8" />

<!-- JQUERY STYLES -->
<link href="css/jquery-ui/cupertino/jquery-ui.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/jquery-ui/cupertino/jquery-ui.selectmenu.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/jquery.steps.css" media="screen" rel="stylesheet" type="text/css" />

<!-- CUSTOM STYLES -->
<link href="css/loader.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/main.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/toolbox.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/navigation_pane.css" media="screen" rel="stylesheet" type="text/css" />

<!-- JQUERY JS FILES -->
<script src="lib/jquery/jquery.js" type="text/javascript"></script>
<!-- <script src="lib/jquery/jquery.jeditable.js" type="text/javascript"></script> -->
<!-- <script src="lib/jquery/jquery.glow.js" type="text/javascript"></script> -->
<!-- <script src="lib/jquery/jquery.safe_enter.js" type="text/javascript"></script> -->
<!-- <script src="lib/jquery/jquery.elastic.js" type="text/javascript"></script> -->
<script src="lib/jquery/jquery.sort_elements.js" type="text/javascript"></script>
<script src="lib/jquery/jquery.steps.js" type="text/javascript"></script>
<script src="lib/jquery-ui/jquery-ui.js" type="text/javascript"></script>
<script src="lib/jquery-ui/jquery-ui.selectmenu.js" type="text/javascript"></script>

<!-- APPLICATION JS FILES -->
<script src="app/bible_book_defs.js" type="text/javascript"></script>
<script src="app/bible_browser/bible_browser_controller.js" type="text/javascript"></script>
<script src="app/tags/tags_communication_controller.js" type="text/javascript"></script>
<script src="app/tags/tags_controller.js" type="text/javascript"></script>
<script src="app/ezra_init.js" type="text/javascript"></script>
<script src="templates/verse_list.js" type="text/javascript"></script>
<script src="templates/tag_list.js" type="text/javascript"></script>
</head>

<!-- BODY STARTS HERE -->

<body>

<div id="startup-loading-indicator">
  <div style="float: left;" i18n="general.loading"></div>
  <div class="loader">
    <div class="bounce1"></div>
    <div class="bounce2"></div>
    <div class="bounce3"></div>
  </div>
  <div id="loading-subtitle" style="clear: both; padding-top: 1em; font-size: 70%;">
  </div>
</div>

<div id="main-content">
  <a name='top'></a>

  <!-- Logo disabled for now -->
  <!--
  <div id="program-label">
  <img src="images/ezra_project_logo.jpg" alt="Ezra Project"/> 
  </div>
  -->

  <div id="app-container">
    <div id="bible-browser-toolbox"></div>
    <div id="book-selection-menu" class="verse-selection-menu"></div>
    <div id="tag-selection-menu" class="verse-selection-menu"></div>
    <div id="module-search-menu" class=module-search-menu"></div>
    <div id="display-options-menu" class="display-options-menu"></div>
    <div id="translation-settings-wizard" style="display: none;"></div>
    <div id="book-search"></div>
    <div id="boxes"></div>
    <div id="verse-list-tabs"></div>
  </div>

</div>

<script>
  const path = require('path');
  const fs = require('fs');

  // This function loads the content of html fragments into the divs in the app-container
  function loadFragment(filePath, elementId) {
    var absoluteFilePath = path.join(__dirname, filePath);
    var fileContent = fs.readFileSync(absoluteFilePath);
    document.getElementById(elementId).innerHTML = fileContent;
  }

  loadFragment('html/book_selection_menu.html',           'book-selection-menu');
  loadFragment('html/tag_selection_menu.html',            'tag-selection-menu');
  loadFragment('html/bible_browser_toolbox.html',         'bible-browser-toolbox');
  loadFragment('html/translation_settings_wizard.html',   'translation-settings-wizard');
  loadFragment('html/book_search_form.html',              'book-search');
  loadFragment('html/module_search_menu.html',            'module-search-menu');
  loadFragment('html/display_options_menu.html',          'display-options-menu');
  loadFragment('html/verse_list_tabs.html',               'verse-list-tabs');
  loadFragment('html/boxes.html',                         'boxes');
</script>

</body>
</html>
